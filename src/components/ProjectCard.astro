---
import { Image } from "astro:assets";
import type { HTMLAttributes } from "astro/types";
import { GithubIcon } from "./svg/SocialIcons";
import { Globe } from "lucide-react";

type Props = {
  cardId: string;
  profileImg: ImageMetadata["src"];
  projectName: string;
  description: string;
  showDetails?: boolean;
  repoUrl: string;
  siteUrl: string;
} & HTMLAttributes<"div">;

const {
  showDetails = false,
  description,
  projectName,
  profileImg,
  id,
  repoUrl,
  siteUrl,
  class: className,
  "class:list": classList,
  ...props
} = Astro.props;
---

<div
  class:list={[
    "size-full flex flex-col justify-around  p-4 shadow-elevate-light backdrop-blur dark:shadow-elevate-dark text-foreground",
    { "gap-2": showDetails },
    className,
    classList,
  ]}
  {...props}
>
  <slot />
  <Image
    class:list={[
      "size-full rounded-lg object-cover aspect-video object-center",
      { "md:w-[85%]": showDetails },
    ]}
    src={profileImg}
    alt="sample page"
    inferSize={true}
  />
  <div>
    <h3 class:list={["mb-2 mt-4 text-xl font-bold capitalize", { "md:text-3xl": showDetails }]}>
      {projectName}
    </h3>
    <p class:list={["mb-2 leading-6", { "md:text-md": showDetails }]}>{description}</p>
    <div class="flex items-center gap-8">
      <a
        href={repoUrl}
        target="_blank"
        class="flex items-center justify-start gap-2 text-lg
                     transition-all hover:scale-110 focus:border-b focus:border-red-600 focus:outline-none
                     active:animate-ping"
      >
        <GithubIcon className="size-6 fill-foreground" />
        repository
      </a>
      <a
        href={siteUrl}
        target="_blank"
        class="flex items-center justify-start gap-2 text-lg
                     transition-all hover:scale-110 focus:border-b focus:border-red-600 focus:outline-none
                     active:animate-ping"
      >
        <Globe className="size-6 text-foreground " />
        live site
      </a>
    </div>
  </div>
</div>
